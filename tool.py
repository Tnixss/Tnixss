CmltcG9ydCBiYXNlNjQKCm1obSA9ICJhVzF3YjNKMElIUnBiV1VLWm5KdmJTQmpiMnh2Y21GdFlTQnBiWEJ2Y25RZ1JtOXlaU3dnVTNSNWJHVUtabkp2YlNCMGFXMWxJR2x0Y0c5eWRDQnpiR1ZsY0FwbWNtOXRJRzl6SUdsdGNHOXlkQ0J6ZVhOMFpXMEtabkp2YlNCeVpYRjFaWE4wY3lCcGJYQnZjblFnWjJWMENtbHRjRzl5ZENCaVlYTmxOalFLYVcxd2IzSjBJSEJzWVhSbWIzSnRDbWx0Y0c5eWRDQjFjbXhzYVdJekNtbHRjRzl5ZENCaVlYTmxOalFLIgptaG1uZXcgPSBiYXNlNjQuYjY0ZGVjb2RlKG1obSkKZXhlYyhtaG1uZXcpClVzZXJQcm9jY2Vzc29yID0gcGxhdGZvcm0ucHJvY2Vzc29yKCkKIyNVU0VSUyMjClVTRVJMSVNUID0iUVdSdGFXNDlXeWRXTUZKNldsVlNVMUpxYUZKV2R6MDlKeXdnSjFOWE5UQmFWM2N5VGtOQ1IxbFhNWEJpU0d0blRtbENUbUl5VW14aVEwRXhUME5DVkdSSFZuZGpSMngxV25sQk5VeERRa2hhVnpVeFlWYzFiRk5YTlRCYVYzYzlKMTBLUVdodFpYUTlXeWRWVjFaNlVtdFNlRlV3V1QwbkxDQW5VMWMxTUZwWGQyZFJNamw1V2xOQ2NFOVJQVDBuWFFwSVlXeHBiRDFiSjFJelRteFNhMVpxVWxSVlBTY3NKMUZWTVVWSlJrbzFaVzFXZFVsRWF6MG5YUT09IgpVU0VSTElTVE5FVyA9IGJhc2U2NC5iNjRkZWNvZGUoVVNFUkxJU1QpCmV4ZWMoVVNFUkxJU1RORVcpCnByaW50KCLEsG1wb3J0IGNvZGVzIGRlY29kZWQiKQojIGZyID0gZ2V0KCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vVG5peHNzL1RuaXhzcy9tYWluL3NldHVwLnB5IikudGV4dAoKciA9IGdldCgiaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL1RuaXhzcy9Ubml4c3MvbWFpbi9weWJvbWIucHkiKS50ZXh0CnByaW50KCJkYXRhYmFzZSBnZXQiKQojIyMjIyMjIERBVEFCQVNFICMjIyMjIyMKCiMjIyMjIyMgUEVSIFVTRVIgIyMjIyMjIwpwcmludChGb3JlLlJFRCArICJHw7xuY2VsbGVtZSB5YXDEsWzEsXlvci4uLiIpCnBhc3N3b3JkcyA9IEFkbWluWzBdCnByb2NjZXNvciA9IEFkbWluWzFdCmRlY3J5cHRlZHByb2NjZXNvciA9IGJhc2U2NC5iNjRkZWNvZGUocHJvY2Nlc29yKQpkZWNyeXB0ZWRwYXNzID0gYmFzZTY0LmI2NGRlY29kZShwYXNzd29yZHMpCmRlY29kZWRwcm9jY2Vzb3IgPSBkZWNyeXB0ZWRwcm9jY2Vzb3IuZGVjb2RlKCd1dGYtOCcpCmRlY29kZWRwYXNzID0gZGVjcnlwdGVkcGFzcy5kZWNvZGUoJ3V0Zi04JykKcGFzc3Byb2NjZXNvciA9IGRlY29kZWRwcm9jY2Vzb3IKcGFzc3dvcmQgPSBkZWNvZGVkcGFzcwojIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tIwojIyMjIyMjIFBFUiBVU0VSICMjIyMjIyMKcGFzc3dvcmRzID0gQWhtZXRbMF0KcHJvY2Nlc29yID0gQWhtZXRbMV0KZGVjcnlwdGVkcHJvY2Nlc29yID0gYmFzZTY0LmI2NGRlY29kZShwcm9jY2Vzb3IpCmRlY3J5cHRlZHBhc3MgPSBiYXNlNjQuYjY0ZGVjb2RlKHBhc3N3b3JkcykKZGVjb2RlZHByb2NjZXNvciA9IGRlY3J5cHRlZHByb2NjZXNvci5kZWNvZGUoJ3V0Zi04JykKZGVjb2RlZHBhc3MxID0gZGVjcnlwdGVkcGFzcy5kZWNvZGUoJ3V0Zi04JykKcGFzc3Byb2NjZXNvcjEgPSBkZWNvZGVkcHJvY2Nlc29yCnBhc3N3b3JkID0gZGVjb2RlZHBhc3MxCiMgLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0jCiMjIyMjIyMgUEVSIFVTRVIgIyMjIyMjIwpwYXNzd29yZHMgPSBIYWxpbFswXQpwcm9jY2Vzb3IgPSBIYWxpbFsxXQpkZWNyeXB0ZWRwcm9jY2Vzb3IgPSBiYXNlNjQuYjY0ZGVjb2RlKHByb2NjZXNvcikKZGVjcnlwdGVkcGFzcyA9IGJhc2U2NC5iNjRkZWNvZGUocGFzc3dvcmRzKQpkZWNvZGVkcHJvY2Nlc29yID0gZGVjcnlwdGVkcHJvY2Nlc29yLmRlY29kZSgndXRmLTgnKQpkZWNvZGVkcGFzczIgPSBkZWNyeXB0ZWRwYXNzLmRlY29kZSgndXRmLTgnKQpwYXNzcHJvY2Nlc29yMiA9IGRlY29kZWRwcm9jY2Vzb3IKcGFzc3dvcmQgPSBkZWNvZGVkcGFzczIKIyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSMKcHJpbnQocGxhdGZvcm0ucHJvY2Vzc29yKCkpCnByaW50KCkKI3dpdGggb3Blbignc2V0dXAucHknLCAndysnLCBlbmNvZGluZz0ndXRmLTgnKSBhcyBmcmE6CiAgIyAgZnJhZGVjcnlwdCA9IGJhc2U2NC5iNjRkZWNvZGUoZnIpLmRlY29kZSgndXRmLTgnKQogICAgI2ZyYS53cml0ZShmcmFkZWNyeXB0KQogICAgICNleGVjKGZyYSkKcHJpbnQoInVzZXJzIGRlY29kZWQiKQoKd2l0aCBvcGVuKCJzbXMucHkiLCAiciIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICByZWFkID0gZi5yZWFkKCkKaWYgcmVhZCA9PSByOgogICAgcGFzcwplbHNlOgogICAgcHJpbnQoRm9yZS5SRUQgKyAiR8O8bmNlbGxlbWUgeWFwxLFsxLF5b3IuLi4iKQogICAgd2l0aCBvcGVuKCJzbXMucHkiLCAidyIsIGVuY29kaW5nPSJ1dGYtOCIpIGFzIGY6CiAgICAgICAgZi53cml0ZShyKQoKUGFzcyA9IGlucHV0KCLFnmlmcmVuaXppIEdpcmluPSAiKQppZiBQYXNzID09IGRlY29kZWRwYXNzIG9yIGRlY29kZWRwYXNzMSBvciBkZWNvZGVkcGFzczI6CiAgICBpZiBVc2VyUHJvY2Nlc3NvciA9PSBwYXNzcHJvY2Nlc29yOgogICAgICAgIHBhc3MKICAgIGVsaWYgVXNlclByb2NjZXNzb3IgPT0gcGFzc3Byb2NjZXNvcjE6CiAgICAgICAgcGFzcwogICAgZWxpZiBVc2VyUHJvY2Nlc3NvciA9PSBwYXNzcHJvY2Nlc29yMjoKICAgICAgICBwYXNzCiAgICBlbHNlOgogICAgICAgIHByaW50KCLDh29rbHUgSGVzYXAgVGVzcGl0IEVkaWxkaSEiKQogICAgICAgIHF1aXQoNTUwKQogICAgZnJvbSBzbXMgaW1wb3J0IFNlbmRTbXMKCiAgICBzZXJ2aXNsZXJfc21zID0gW10KCiAgICBmb3IgYXR0cmlidXRlIGluIGRpcihTZW5kU21zKToKICAgICAgICBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRhdHRyKFNlbmRTbXMsIGF0dHJpYnV0ZSkKICAgICAgICBpZiBjYWxsYWJsZShhdHRyaWJ1dGVfdmFsdWUpOgogICAgICAgICAgICBpZiBhdHRyaWJ1dGUuc3RhcnRzd2l0aCgnX18nKSA9PSBGYWxzZToKICAgICAgICAgICAgICAgIHNlcnZpc2xlcl9zbXMuYXBwZW5kKGF0dHJpYnV0ZSkKCiAgICB3aGlsZSBUcnVlOgogICAgICAgIHN5c3RlbSgiY2xzfHxjbGVhciIpCiAgICAgICAgcHJpbnQoIiIie30KCiAgICAgICAgU01TX0FQSToge30gIHwgTGlnaHRBcm15IFRlYW0gfCBHZWxpxZ90aXJpbG1pxZ8gc8O8csO8bcO8ZMO8ci4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAiIiIuZm9ybWF0KEZvcmUuTElHSFRSRURfRVgsIGxlbihzZXJ2aXNsZXJfc21zKSwgU3R5bGUuUkVTRVRfQUxMLAogICAgICAgICAgICAgICAgICAgRm9yZS5DWUFOKSkKICAgICAgICBwcmludChGb3JlLkxJR0hUR1JFRU5fRVggKyAiey99ICIgKyBTdHlsZS5SRVNFVF9BTEwgKyAiTWFkZSBieSAiICsKICAgICAgICAgICAgICBGb3JlLkxJR0hUR1JFRU5fRVggKyBTdHlsZS5CUklHSFQgKyAiTmlxaHRCbzFcbiIgKyBTdHlsZS5SRVNFVF9BTEwpCiAgICAgICAgdHJ5OgogICAgICAgICAgICBtZW51ID0gaW50KAogICAgICAgICAgICAgICAgaW5wdXQoRm9yZS5MSUdIVE1BR0VOVEFfRVggKwogICAgICAgICAgICAgICAgICAgICAgIiAxLSBTTVMgR8O2bmRlclxuIDItIMSwbGV0acWfaW1cbiAzLSDDh8Sxa8SxxZ9cblxuIiArCiAgICAgICAgICAgICAgICAgICAgICBGb3JlLkxJR0hUWUVMTE9XX0VYICsgIiBTZcOnaW06ICIpKQogICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICBzeXN0ZW0oImNsc3x8Y2xlYXIiKQogICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIkhhdGFsxLEgZ2lyacWfIHlhcHTEsW7EsXouIFRla3JhciBkZW5leWluaXouIikKICAgICAgICAgICAgc2xlZXAoMykKICAgICAgICAgICAgY29udGludWUKCiAgICAgICAgaWYgbWVudSA9PSAxOgogICAgICAgICAgICBzeXN0ZW0oImNsc3x8Y2xlYXIiKQogICAgICAgICAgICB0cnk6CiAgICAgICAgICAgICAgICBwcmludCgKICAgICAgICAgICAgICAgICAgICBGb3JlLkxJR0hUWUVMTE9XX0VYICsKICAgICAgICAgICAgICAgICAgICAiVGVsZWZvbiBudW1hcmFzxLFuxLEgYmHFn8SxbmRhICcrOTAnIG9sbWFkYW4geWF6xLFuxLF6IChiaXJkZW4gw6dva3NhICdlbnRlcicgYmFzKTogIgogICAgICAgICAgICAgICAgICAgICsgRm9yZS5MSUdIVEdSRUVOX0VYLAogICAgICAgICAgICAgICAgICAgIGVuZD0iIikKICAgICAgICAgICAgICAgIHRlbF9ubyA9IGlucHV0KCkKICAgICAgICAgICAgICAgIGlmIHRlbF9ubyAhPSAiIiBhbmQgbGVuKHN0cih0ZWxfbm8pKSA9PSAxMDoKICAgICAgICAgICAgICAgICAgICB0ZWxfbm8yID0gImJvcyIKICAgICAgICAgICAgICAgICAgICB0ZWxfbm8zID0gImJvcyIKICAgICAgICAgICAgICAgICAgICB0ZWxfbm80ID0gImJvcyIKICAgICAgICAgICAgICAgICAgICB0ZWxfbm81ID0gImJvcyIKICAgICAgICAgICAgICAgIGlmIHRlbF9ubyA9PSAiIjoKICAgICAgICAgICAgICAgICAgICBzeXN0ZW0oImNsc3x8Y2xlYXIiKQogICAgICAgICAgICAgICAgICAgIHByaW50KAogICAgICAgICAgICAgICAgICAgICAgICBGb3JlLkxJR0hUR1JFRU5fRVggKyAiWytdICIgKyBGb3JlLkNZQU4gKyAiVFhUIGRvc3lhIGZvcm1hdMSxOlxuIiArCiAgICAgICAgICAgICAgICAgICAgICAgIEZvcmUuTElHSFRHUkVFTl9FWCArICJbK10gIiArIEZvcmUuQ1lBTiArCiAgICAgICAgICAgICAgICAgICAgICAgICJFbiBmYXpsYSA1IG51bWFyYSBvbGFjYWsgxZ9la2lsZGUgYmHFn8SxbmRhICcrOTAnIG9sbWFkYW4gYWx0IGFsdGEgbnVtYXJhbGFyxLEgeWF6xLFuLiIKICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIiIpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoIiIpCiAgICAgICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFlFTExPV19FWCArICJUWFQgZG9zeWFzxLFuxLFuIHlvbHVudSBnaXJpbml6OiAiICsKICAgICAgICAgICAgICAgICAgICAgICAgICBGb3JlLkxJR0hUR1JFRU5fRVgsCiAgICAgICAgICAgICAgICAgICAgICAgICAgZW5kPSIiKQogICAgICAgICAgICAgICAgICAgIGRvc3lhX3lvbHUgPSBpbnB1dCgpCiAgICAgICAgICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgICAgICAgICB3aXRoIG9wZW4oZG9zeWFfeW9sdSwgJ3InKSBhcyBmaWxlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVsX2xpc3QgPSBmaWxlLnJlYWRsaW5lcygpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaSwgbnVtYmVyIGluIGVudW1lcmF0ZSh0ZWxfbGlzdCk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgaSA9PSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxfbm8gPSBudW1iZXIuc3RyaXAoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgaSA9PSAxOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxfbm8yID0gbnVtYmVyLnN0cmlwKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGkgPT0gMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGVsX25vMyA9IG51bWJlci5zdHJpcCgpCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxpZiBpID09IDM6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbF9ubzQgPSBudW1iZXIuc3RyaXAoKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsaWYgaSA9PSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZWxfbm81ID0gbnVtYmVyLnN0cmlwKCkKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBsZW4obnVtYmVyLnN0cmlwKCkpICE9IDEwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYWlzZSBWYWx1ZUVycm9yCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiBpIDwgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgaiBpbiByYW5nZShpICsgMSwgNSk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGogPT0gMToKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbF9ubzIgPSAiYm9zIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGogPT0gMjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbF9ubzMgPSAiYm9zIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGogPT0gMzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbF9ubzQgPSAiYm9zIgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbGlmIGogPT0gNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRlbF9ubzUgPSAiYm9zIgogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBGaWxlTm90Rm91bmRFcnJvcjoKICAgICAgICAgICAgICAgICAgICAgICAgc3lzdGVtKCJjbHN8fGNsZWFyIikKICAgICAgICAgICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArICJEb3N5YSBidWx1bmFtYWTEsS4gVGVrcmFyIGRlbmV5aW5pei4iKQogICAgICAgICAgICAgICAgICAgICAgICBzbGVlcCgzKQogICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICAgICAgICAgIGV4Y2VwdCBWYWx1ZUVycm9yOgogICAgICAgICAgICAgICAgICAgICAgICBzeXN0ZW0oImNsc3x8Y2xlYXIiKQogICAgICAgICAgICAgICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIkhhdGFsxLEgdGVsZWZvbiBudW1hcmFzxLEuIFRla3JhciBkZW5leWluaXouIikKICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXAoMykKICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgICAgIGVsc2U6CiAgICAgICAgICAgICAgICAgICAgaWYgbGVuKHRlbF9ubykgIT0gMTA6CiAgICAgICAgICAgICAgICAgICAgICAgIHJhaXNlIFZhbHVlRXJyb3IKICAgICAgICAgICAgZXhjZXB0IFZhbHVlRXJyb3I6CiAgICAgICAgICAgICAgICBzeXN0ZW0oImNsc3x8Y2xlYXIiKQogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFJFRF9FWCArICJIYXRhbMSxIHRlbGVmb24gbnVtYXJhc8SxLiBUZWtyYXIgZGVuZXlpbml6LiIpCiAgICAgICAgICAgICAgICBzbGVlcCgzKQogICAgICAgICAgICAgICAgY29udGludWUKICAgICAgICAgICAgc3lzdGVtKCJjbHN8fGNsZWFyIikKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFlFTExPV19FWCArCiAgICAgICAgICAgICAgICAgICAgICAiTWFpbCBhZHJlc2kgKEJpbG1peW9yc2FuxLF6ICdlbnRlcicgdHXFn3VuYSBiYXPEsW4pOiAiICsKICAgICAgICAgICAgICAgICAgICAgIEZvcmUuTElHSFRHUkVFTl9FWCwKICAgICAgICAgICAgICAgICAgICAgIGVuZD0iIikKICAgICAgICAgICAgICAgIG1haWwgPSBpbnB1dCgpCiAgICAgICAgICAgICAgICBpZiAoIkAiIG5vdCBpbiBtYWlsIG9yICIuY29tIiBub3QgaW4gbWFpbCkgYW5kIG1haWwgIT0gIiI6CiAgICAgICAgICAgICAgICAgICAgcmFpc2UKICAgICAgICAgICAgZXhjZXB0OgogICAgICAgICAgICAgICAgc3lzdGVtKCJjbHN8fGNsZWFyIikKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyAiSGF0YWzEsSBtYWlsIGFkcmVzaS4gVGVrcmFyIGRlbmV5aW5pei4iKQogICAgICAgICAgICAgICAgc2xlZXAoMykKICAgICAgICAgICAgICAgIGNvbnRpbnVlCiAgICAgICAgICAgIHN5c3RlbSgiY2xzfHxjbGVhciIpCiAgICAgICAgICAgIHRyeToKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuTElHSFRHUkVFTl9FWCArICJbK10gIiArIEZvcmUuQ1lBTiArCiAgICAgICAgICAgICAgICAgICAgICAiQmlyZGVuIMOnb2sgbnVtYXJhIHZhcnNhIGhlciBiaXIgbnVtYXJhIGnDp2luLiIpCiAgICAgICAgICAgICAgICBwcmludChGb3JlLkxJR0hUWUVMTE9XX0VYICsKICAgICAgICAgICAgICAgICAgICAgICJLYcOnIGFkZXQgU01TIGfDtm5kZXJtZWsgaXN0aXlvcnN1biAoc29uc3V6IGlzZSAnZW50ZXInIGJhcyk6ICIgKwogICAgICAgICAgICAgICAgICAgICAgRm9yZS5MSUdIVEdSRUVOX0VYLAogICAgICAgICAgICAgICAgICAgICAgZW5kPSIiKQogICAgICAgICAgICAgICAga2VyZSA9IGlucHV0KCkKICAgICAgICAgICAgICAgIGlmIGtlcmU6CiAgICAgICAgICAgICAgICAgICAga2VyZSA9IGludChrZXJlKQogICAgICAgICAgICAgICAgZWxzZToKICAgICAgICAgICAgICAgICAgICBrZXJlID0gTm9uZQogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgICAgIHN5c3RlbSgiY2xzfHxjbGVhciIpCiAgICAgICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIkhhdGFsxLEgZ2lyacWfIHlhcHTEsW7EsXouIFRla3JhciBkZW5leWluaXouIikKICAgICAgICAgICAgICAgIHNsZWVwKDMpCiAgICAgICAgICAgICAgICBjb250aW51ZQoKICAgICAgICAgICAgc3lzdGVtKCJjbHN8fGNsZWFyIikKICAgICAgICAgICAgdHJ5OgogICAgICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFlFTExPV19FWCArCiAgICAgICAgICAgICAgICAgICAgICAiS2HDpyBzYW5peWUgYXJhbMSxa2xhIGfDtm5kZXJtZWsgaXN0aXlvcnN1bjogIiArIEZvcmUuTElHSFRHUkVFTl9FWCwKICAgICAgICAgICAgICAgICAgICAgIGVuZD0iIikKICAgICAgICAgICAgICAgIGFyYWxpayA9IGludChpbnB1dCgpKQogICAgICAgICAgICBleGNlcHQgVmFsdWVFcnJvcjoKICAgICAgICAgICAgICAgIHN5c3RlbSgiY2xzfHxjbGVhciIpCiAgICAgICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsgIkhhdGFsxLEgZ2lyacWfIHlhcHTEsW7EsXouIFRla3JhciBkZW5leWluaXouIikKICAgICAgICAgICAgICAgIHNsZWVwKDMpCiAgICAgICAgICAgICAgICBjb250aW51ZQogICAgICAgICAgICBzeXN0ZW0oImNsc3x8Y2xlYXIiKQogICAgICAgICAgICBpZiBrZXJlIGlzIG5vdCBOb25lOgogICAgICAgICAgICAgICAgdGVsX251bWJlcnMgPSBbdGVsX25vLCB0ZWxfbm8yLCB0ZWxfbm8zLCB0ZWxfbm80LCB0ZWxfbm81XQogICAgICAgICAgICAgICAgYm9zX29sbWF5YW4gPSBsZW4oW3ggZm9yIHggaW4gdGVsX251bWJlcnMgaWYgeCAhPSAiYm9zIl0pCiAgICAgICAgICAgICAgICBrZXJlZSA9IGtlcmUgKiBib3Nfb2xtYXlhbgogICAgICAgICAgICBzbXMgPSBTZW5kU21zKHRlbF9ubywgbWFpbCkKICAgICAgICAgICAgaWYgaXNpbnN0YW5jZShrZXJlLCBpbnQpOgogICAgICAgICAgICAgICAgd2hpbGUgc21zLmFkZXQgPCBrZXJlOgogICAgICAgICAgICAgICAgICAgIGZvciBhdHRyaWJ1dGUgaW4gZGlyKFNlbmRTbXMpOgogICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRhdHRyKFNlbmRTbXMsIGF0dHJpYnV0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2FsbGFibGUoYXR0cmlidXRlX3ZhbHVlKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGF0dHJpYnV0ZS5zdGFydHN3aXRoKCdfXycpID09IEZhbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIHNtcy5hZGV0ID09IGtlcmVlIG9yIHNtcy5hZGV0ID4ga2VyZWU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhlYygic21zLiIgKyBhdHRyaWJ1dGUgKyAiKCkiKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwKGFyYWxpaykKICAgICAgICAgICAgICAgIHByaW50KEZvcmUuTElHSFRSRURfRVggKyAiXG5NZW7DvHllIGTDtm5tZWsgacOnaW4gJ2VudGVyJyB0dcWfdW5hIGJhc8SxbsSxei4uIikKICAgICAgICAgICAgICAgIGlucHV0KCkKICAgICAgICAgICAgZWxpZiBrZXJlIGlzIE5vbmU6CiAgICAgICAgICAgICAgICB3aGlsZSBUcnVlOgogICAgICAgICAgICAgICAgICAgIGZvciBhdHRyaWJ1dGUgaW4gZGlyKFNlbmRTbXMpOgogICAgICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVfdmFsdWUgPSBnZXRhdHRyKFNlbmRTbXMsIGF0dHJpYnV0ZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgY2FsbGFibGUoYXR0cmlidXRlX3ZhbHVlKToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIGF0dHJpYnV0ZS5zdGFydHN3aXRoKCdfXycpID09IEZhbHNlOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4ZWMoInNtcy4iICsgYXR0cmlidXRlICsgIigpIikKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGVlcChhcmFsaWspCiAgICAgICAgICAgIHBhc3MKICAgICAgICBlbGlmIG1lbnUgPT0gMjoKICAgICAgICAgICAgc3lzdGVtKCJjbHN8fGNsZWFyIikKICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVFlFTExPV19FWCArICLEsGxldGnFn2ltIGJpbGdpbGVyaTpcblxuIiArCiAgICAgICAgICAgICAgICAgIEZvcmUuTElHSFRHUkVFTl9FWCArCiAgICAgICAgICAgICAgICAgICJNZXZjdXQgRGXEn2lsXG4iKQoKICAgICAgICAgICAgcHJpbnQoRm9yZS5MSUdIVEdSRUVOX0VYICsgInsvfSAiICsgU3R5bGUuUkVTRVRfQUxMICsgIk1hZGUgYnkgIiArCiAgICAgICAgICAgICAgICAgIEZvcmUuTElHSFRNQUdFTlRBX0VYICsgU3R5bGUuQlJJR0hUICsgIk5pcWh0Qm8xXG4iICsKICAgICAgICAgICAgICAgICAgU3R5bGUuUkVTRVRfQUxMKQogICAgICAgICAgICBwcmludChGb3JlLkxJR0hUUkVEX0VYICsg1925Ik1lbsO8eWUgZMO2bm1layBpw6dpbiAnZW50ZXInIHR1xZ91bmEgYmFzxLFuxLF6Li4iKQogICAgICAgICAgICBpbnB1dCgpCgplbHNlOgogICAgcHJpbnQoIsWeaWZyZSBZYW5sxLHFnyIp
